(this["webpackJsonprecipe-contacts"]=this["webpackJsonprecipe-contacts"]||[]).push([[0],{10:function(e,t,n){e.exports={button:"code-block_styles_button__3-dVr"}},17:function(e,t,n){},208:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(7),r=n.n(s),o=(n(17),n(2)),i=n.n(o),l=n(4),d=n(5),u=n(3),h=n.n(u),j=n(0),b=function(e){var t=e.data,n=t.slice(0,5<=t.length-1?5:t.length-1).map((function(e,t){var n="".concat(0==t?"".concat(h.a.row," ").concat(h.a.header):""),c="".concat(h.a.row," ").concat(t%2==0?h.a.evenRow:h.a.oddRow);return e.map((function(a,s){var r,o="".concat(0==(r=s)?h.a.firstCell:""," ").concat(r==e.length-1?h.a.lastCell:""),i=function(e){return"".concat(e>=4?h.a.rightAligned:"")}(s),l="".concat(n," ").concat(c," ").concat(o," ").concat(i),d="".concat(n," ").concat(i," ").concat(o),u=0==t?d:l;return Object(j.jsx)("div",{style:{gridColumn:s+1},className:u,children:a},s)}))}));return Object(j.jsx)("div",{className:h.a.grid,children:n})},p=function(e){var t=e.data;return Object(j.jsx)(b,{data:t})},w=n(8),f=n(9),g=n.n(f),x=function(e){var t=e.side,n=t?Object(w.a)({},"margin".concat(t),"1rem"):{};return Object(j.jsxs)("div",{className:g.a["lds-ring"],style:n,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})},O=n(10),y=n.n(O),m=n(11),v=n.n(m),_=function(e){var t=e.language,n=e.content,c=a.a.useState(!1),s=Object(d.a)(c,2),r=s[0],o=s[1],u=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("a",{onClick:u,className:y.a.button,children:[r?"Hide source":"Show source",Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(j.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(j.jsx)("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z",fill:"rgb(255, 86, 79)"})]})]}),r&&Object(j.jsx)(v.a,{language:t,children:n})]})},k=n(12),C=new URL(document.location).searchParams,N=C.get("apiKey"),H=C.get("recipeId"),S=C.get("envId"),T=C.get("tenantId"),G=C.get("flowId"),R=C.get("awsEndpoint");function F(){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R);case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(208),n(209);var I=n.p+"static/media/hotglue.f8814986.svg";var E=function(){var e=a.a.useState(),t=Object(d.a)(e,2),n=t[0],c=t[1],s=a.a.useState(!1),r=Object(d.a)(s,2),o=r[0],u=r[1],h=a.a.useState(!1),b=Object(d.a)(h,2),w=b[0],f=b[1];a.a.useEffect((function(){window.HotGlue&&!window.HotGlue.hasMounted()&&window.HotGlue.mount({api_key:N,env_id:S})}),[window.HotGlue]);var g=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=[Object.keys(t[0])],t.forEach((function(e){var t=Object.values(e).map((function(e){return Object(e)===e?JSON.stringify(e):e}));n.push(t)})),c(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.a.useEffect((function(){n||g()}),[n]);var O=function e(){window.HotGlue&&window.HotGlue.hasMounted()?window.HotGlue.getLinkedFlows(T).then((function(e){e&&e.find((function(e){return e.id===G}))&&f(!0)})):setTimeout((function(){return e()}),1e3)};a.a.useEffect((function(){w||O()}),[w]);var y=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.HotGlue&&window.HotGlue.hasMounted()){e.next=2;break}return e.abrupt("return");case 2:u(!0),window.HotGlue.createJob(G,T).then((function(e){window.swal("Syncing data","Starting a data sync. This may take a few minutes!","success"),window.HotGlue.pollJob(e.s3_root,G,T).then((function(e){var t=e.payload;u(!1),"JOB_COMPLETED"===t.status?(window.swal("Data synced","Contacts data has been synced successfully!","success"),g()):window.swal("Failed to sync","There was an issue syncing the data, please contact support for help.","error")}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),window.swal("".concat(t.label," linked"),"Woohoo! You've linked a source! Now you can sync your data.","success");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(j.jsxs)("main",{children:[Object(j.jsx)("nav",{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("img",{src:I,alt:"hotglue logo",style:{fill:"white"}})})}),Object(j.jsx)("header",{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("h1",{children:[H," recipe"]}),Object(j.jsxs)("p",{children:["This is a sample React app showing an end-to-end sample of a hotglue-powered integration that pulls ",Object(j.jsx)("strong",{children:H})," data. Follow each step below to see a user experience."]})]})}),Object(j.jsx)("section",{className:"connections",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{children:"Connect a source"}),Object(j.jsxs)("p",{style:{marginBottom:0},children:["Your users will start by connecting their ",Object(j.jsx)("strong",{children:H})," data source."]}),Object(j.jsxs)("p",{children:["Try connecting a ",H," source on the right."]}),Object(j.jsx)("h3",{children:"Embed the hotglue widget"}),Object(j.jsx)("p",{children:"To add hotglue to your product, start by embedding the widget."}),Object(j.jsx)(_,{language:"html",content:'<script src="https://hotglue.xyz/widget.js"><\/script>\n<script>\n    HotGlue.mount({\n        "api_key": "'.concat(N,'",\n        "env_id": "').concat(S,'"\n    });\n<\/script>')}),Object(j.jsx)("a",{href:"https://docs.hotglue.xyz/quickstart/embed#add-the-widget",target:"_blank",children:"Read the docs"}),Object(j.jsx)("h3",{children:"Create an integrations page"}),Object(j.jsxs)("p",{children:["Use the hotglue-elements package to show users all the available ",H," sources they can connect to \u2013 directly in your product."]}),Object(j.jsx)(_,{language:"react",content:'import React from "react"\nimport {Connections} from "hotglue-elements"\nimport "hotglue-elements/dist/index.css"\n\nfunction App() {\n  // tenant is the id of the current user\n  return <Connections tenant="'.concat(T,'" />\n}')}),Object(j.jsx)("a",{href:"https://docs.hotglue.xyz/quickstart/embed#react-install-hotglue-elements",target:"_blank",children:"Read the docs"})]})}),Object(j.jsx)("aside",{className:"connections",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(k.a,{styleOverrides:{flowContainer:{padding:"0rem",margin:"2rem"},linkedFlow:{display:"flex",flexDirection:"column",alignItems:"center"}},tenant:T,onLink:m})})}),Object(j.jsx)("section",{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{children:"Trigger a job"}),w?Object(j.jsxs)("p",{children:["Now that the user has linked their ",H," data, they can sync their data to your product. Try it yourself on the right."]}):Object(j.jsxs)("p",{children:["Once users link their ",H," data, they can sync it directly to your platform!"]}),Object(j.jsx)("h3",{children:"Ways to start a sync job"}),Object(j.jsxs)("p",{children:["There are several ways to allow users to sync their ",H," data to your product:",Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Use the widget to add a manual sync button to your product"}),Object(j.jsx)("li",{children:"Create a schedule to automatically sync new data"}),Object(j.jsx)("li",{children:"Use hotglue's API to trigger syncs programmatically"})]})]}),Object(j.jsx)(_,{language:"react",content:'import React from "react"\n\nfunction App() {\n  const startJob = async () => {\n    // Make sure HotGlue is ready\n    if (!window.HotGlue || !window.HotGlue.hasMounted()) return;\n\n    // Start the job\n    window.HotGlue.createJob(FLOW_ID, TENANT_ID).then(jobDetails => {\n      // Let the user know it started\n      window.swal(\n        "Syncing data",\n        "Starting a data sync. This may take a few minutes!",\n        "success"\n      )\n    });\n  };\n\n  return (\n    <button onClick={startJob}>\n      Sync data\n    </button>\n  );\n}'}),Object(j.jsx)("a",{href:"https://docs.hotglue.xyz/jobs/start",target:"_blank",children:"Read the docs"})]})}),Object(j.jsx)("aside",{children:Object(j.jsx)("div",{className:"container buttonContainer",children:Object(j.jsx)("div",{className:"button",children:Object(j.jsxs)("a",{style:{marginLeft:"0",color:"#ffffff"},className:"btnForward ".concat(!w&&"disabled"),onClick:y,children:[o?"Syncing":"Sync data"," ",o&&Object(j.jsx)(x,{side:"Left"})]})})})}),Object(j.jsx)("section",{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{children:"Preview your data"}),n?Object(j.jsxs)("p",{children:["The ",Object(j.jsx)("strong",{children:H})," has been synced! See a preview of the data on the right."]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{children:["Once users link their ",H," data and run a sync job, the data will be sent to your product's backend."]}),Object(j.jsx)("p",{children:"From there, use their data to power your product \u2013 try the steps above to see it in action \ud83d\ude80"})]})]})}),Object(j.jsx)("aside",{className:"data",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{children:n?Object(j.jsx)(p,{data:n}):Object(j.jsxs)("p",{children:["Once you connect your ",H," data and run a sync job, data will appear here!"]})})})})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),M()},3:function(e,t,n){e.exports={grid:"preview_styles_grid__1XMHs",row:"preview_styles_row__2fsI7",header:"preview_styles_header__32QiA",oddRow:"preview_styles_oddRow__k7ReU",evenRow:"preview_styles_evenRow__1nBTW",firstCell:"preview_styles_firstCell__1lsWo",lastCell:"preview_styles_lastCell__36OfD",rightAligned:"preview_styles_rightAligned__OARq-"}},9:function(e,t,n){e.exports={"lds-ring":"loading_styles_lds-ring__YRoef"}}},[[210,1,2]]]);
//# sourceMappingURL=main.c6cc04eb.chunk.js.map